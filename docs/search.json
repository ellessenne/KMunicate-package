[{"path":"https://ellessenne.github.io/KMunicate-package/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Alessandro Gasparini Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"Create KMunicate-Style Plots","text":"using brcancer dataset, comes bundled {KMunicate}:","code":"data(\"brcancer\", package = \"KMunicate\") str(brcancer) #> Classes 'tbl_df', 'tbl' and 'data.frame':    686 obs. of  14 variables: #>  $ id     : num  1 2 3 4 5 6 7 8 9 10 ... #>  $ hormon : num  0 1 1 1 0 0 1 0 0 0 ... #>  $ x1     : num  70 56 58 59 73 32 59 65 80 66 ... #>  $ x2     : num  2 2 2 2 2 1 2 2 2 2 ... #>  $ x3     : num  21 12 35 17 35 57 8 16 39 18 ... #>  $ x4     : num  2 2 2 2 2 3 2 2 2 2 ... #>  $ x5     : num  3 7 9 4 1 24 2 1 30 7 ... #>  $ x6     : num  48 61 52 60 26 0 181 192 0 0 ... #>  $ x7     : num  66 77 271 29 65 13 0 25 59 3 ... #>  $ rectime: num  1814 2018 712 1807 772 ... #>  $ censrec: num  1 1 1 1 1 1 0 0 1 0 ... #>  $ x4a    : num  1 1 1 1 1 1 1 1 1 1 ... #>  $ x4b    : num  0 0 0 0 0 1 0 0 0 0 ... #>  $ x5e    : num  0.698 0.432 0.34 0.619 0.887 ... #>  - attr(*, \"label\")= chr \"German breast cancer data\""},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"single-arm-plot","dir":"Articles","previous_headings":"","what":"Single-Arm Plot","title":"Create KMunicate-Style Plots","text":"start creating KMunicate-style plot study subjects. First, load package: , fit Kaplan-Meier curve using survfit function {survival} package: , need define horizontal axis plot. instance, can define 5 equally-spaced breaks time zero largest observed time: Finally, can pass fit ts KMunicate() function simply obtain plot:","code":"library(KMunicate) #> Loading required package: survival fit <- survfit(Surv(rectime, censrec) ~ 1, data = brcancer) fit #> Call: survfit(formula = Surv(rectime, censrec) ~ 1, data = brcancer) #>  #>        n events median 0.95LCL 0.95UCL #> [1,] 686    299   1807    1587    2030 ts <- seq(0, max(brcancer$rectime), length.out = 5) ts #> [1]    0.00  664.75 1329.50 1994.25 2659.00 KMunicate(fit = fit, time_scale = ts)"},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"multiple-arms-plot","dir":"Articles","previous_headings":"","what":"Multiple-Arms Plot","title":"Create KMunicate-Style Plots","text":"multiple-arms plot automatically produced survfit object covariates . instance, fit Kaplan-Meier estimator treatment arm: using time scale (ts), call KMunicate() analogous:","code":"fit2 <- survfit(Surv(rectime, censrec) ~ hormon, data = brcancer) fit2 #> Call: survfit(formula = Surv(rectime, censrec) ~ hormon, data = brcancer) #>  #>            n events median 0.95LCL 0.95UCL #> hormon=0 440    205   1528    1296    1814 #> hormon=1 246     94   2018    1918      NA KMunicate(fit = fit2, time_scale = ts)"},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"customisation","dir":"Articles","previous_headings":"","what":"Customisation","title":"Create KMunicate-Style Plots","text":"KMunicate() function contains options customise produced plot. First, can pass ggplot2 theme .theme argument:  can also pass custom colour (fill) scales:  can customise transparency point-wise confidence intervals via .alpha argument:  can customise label horizontal axis:  can customise relative size risk tables plots, although default generally work fine scenarios:","code":"KMunicate(fit = fit2, time_scale = ts, .theme = ggplot2::theme_minimal()) KMunicate(   fit = fit2,   time_scale = ts,   .color_scale = ggplot2::scale_color_brewer(type = \"qual\", palette = \"Set2\"),   .fill_scale = ggplot2::scale_fill_brewer(type = \"qual\", palette = \"Set2\") ) KMunicate(fit = fit2, time_scale = ts, .alpha = 0.1) KMunicate(fit = fit2, time_scale = ts, .xlab = \"New Label (Time in Days, Actually)\") KMunicate(fit = fit2, time_scale = ts, .rel_heights = c(1, 1, 1))"},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"custom-fonts","dir":"Articles","previous_headings":"","what":"Custom Fonts","title":"Create KMunicate-Style Plots","text":"Assuming set computer R session support custom fonts (e.g. using ragg graphics device), can produce plots custom fonts via .ff argument KMunicate() function. Examples using ragg can found .","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"a-better-plot","dir":"Articles","previous_headings":"","what":"A Better Plot","title":"Create KMunicate-Style Plots","text":"can combine obtain (arguably) much better plot:","code":"KMunicate(   fit = fit2,   time_scale = ts,   .theme = ggplot2::theme_minimal(),   .xlab = \"Time (in days)\",   .color_scale = ggplot2::scale_color_brewer(type = \"qual\", palette = \"Set2\"),   .fill_scale = ggplot2::scale_fill_brewer(type = \"qual\", palette = \"Set2\") )"},{"path":"https://ellessenne.github.io/KMunicate-package/articles/KMunicate.html","id":"further-customisation-options","dir":"Articles","previous_headings":"","what":"Further Customisation Options","title":"Create KMunicate-Style Plots","text":"version 0.2.0, {KMunicate} provide additional arguments customise final plot. can customise size Kaplan-Meier curve via .size argument:  can customise linetype scale via .linetype_scale argument:  can customise location legend via .legend_position argument, can even suppress fully:   can add custom annotations via .annotate argument:  can add customise labels title .xlab, .ylab, .title arguments:","code":"KMunicate(   fit = fit2,   time_scale = ts,   .size = 2 ) KMunicate(   fit = fit2,   time_scale = ts,   .linetype_scale = ggplot2::scale_linetype_manual(values = c(\"dotted\", \"dashed\")) ) KMunicate(   fit = fit2,   time_scale = ts,   .reverse = TRUE,   .legend_position = c(0, 1) ) KMunicate(   fit = fit2,   time_scale = ts,   .reverse = TRUE,   .legend_position = \"none\" ) KMunicate(   fit = fit2,   time_scale = ts,   .annotate = ggplot2::annotate(geom = \"text\", x = 365, y = 0.5, label = \"Some annotation\") ) KMunicate(   fit = fit2,   time_scale = ts,   .xlab = \"New Label, X Axis\",   .ylab = \"New Label, Y Axis\",   .title = \"New Title Who Dis\" )"},{"path":"https://ellessenne.github.io/KMunicate-package/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alessandro Gasparini. Author, maintainer, copyright holder. Ary Serpa Neto. Contributor.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gasparini (2023). KMunicate: KMunicate-Style Kaplan–Meier Plots. R package version 0.2.3, https://ellessenne.github.io/KMunicate-package/.","code":"@Manual{,   title = {KMunicate: KMunicate-Style Kaplan–Meier Plots},   author = {Alessandro Gasparini},   year = {2023},   note = {R package version 0.2.3},   url = {https://ellessenne.github.io/KMunicate-package/}, }"},{"path":"https://ellessenne.github.io/KMunicate-package/index.html","id":"kmunicate","dir":"","previous_headings":"","what":"KMunicate-Style Kaplan–Meier Plots","title":"KMunicate-Style Kaplan–Meier Plots","text":"README Last updated: 2023-01-04 goal {KMunicate} produce Kaplan–Meier plots style recommended following KMunicate study (TP Morris et al. Proposals Kaplan–Meier plots medical research survey stakeholder views: KMunicate. BMJ Open, 2019, 9:e030215).","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"KMunicate-Style Kaplan–Meier Plots","text":"can install {KMunicate} CRAN typing following R console: Alternatively, can install dev version {KMunicate} GitHub :","code":"install.packages(\"KMunicate\") # install.packages(\"devtools\") devtools::install_github(\"ellessenne/KMunicate-package\")"},{"path":"https://ellessenne.github.io/KMunicate-package/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"KMunicate-Style Kaplan–Meier Plots","text":"{KMunicate} package comes couple bundled dataset, cancer brcancer. main function named KMunicate:   also might wonder, work single arm? Yes, yes :  Finally, can also plot 1 - survival using argument .reverse = TRUE:","code":"library(survival) library(KMunicate) KM <- survfit(Surv(rectime, censrec) ~ hormon, data = brcancer) time_scale <- seq(0, max(brcancer$rectime), by = 365) KMunicate(fit = KM, time_scale = time_scale) KM <- survfit(Surv(studytime, died) ~ drug, data = cancer2) time_scale <- seq(0, max(cancer2$studytime), by = 7) KMunicate(fit = KM, time_scale = time_scale) KM <- survfit(Surv(studytime, died) ~ 1, data = cancer2) time_scale <- seq(0, max(cancer2$studytime), by = 7) KMunicate(fit = KM, time_scale = time_scale) KM <- survfit(Surv(rectime, censrec) ~ hormon, data = brcancer) time_scale <- seq(0, max(brcancer$rectime), by = 365) KMunicate(fit = KM, time_scale = time_scale, .reverse = TRUE)"},{"path":"https://ellessenne.github.io/KMunicate-package/index.html","id":"customise-risk-table","dir":"","previous_headings":"","what":"Customise Risk Table","title":"KMunicate-Style Kaplan–Meier Plots","text":"default, KMunicate() build risk table conform KMunicate style, e.g., cumulative number events censored (column-wise sum equal total number individuals risk per arm):  Alternatively, possible customise risk table via .risk_table argument. instance, one wants interval-wise number events censored, just pass survfit value .risk_table argument:  default output summary.survfit() function. Finally, also possible fully omit risk table setting .risk_table = NULL:","code":"KM <- survfit(Surv(rectime, censrec) ~ hormon, data = brcancer) time_scale <- seq(0, max(brcancer$rectime), by = 365) KMunicate(fit = KM, time_scale = time_scale) KMunicate(fit = KM, time_scale = time_scale, .risk_table = \"survfit\") KMunicate(fit = KM, time_scale = time_scale, .risk_table = NULL)"},{"path":"https://ellessenne.github.io/KMunicate-package/index.html","id":"custom-fonts","dir":"","previous_headings":"","what":"Custom Fonts","title":"KMunicate-Style Kaplan–Meier Plots","text":"Assuming set computer use custom fonts ggplot2, customising KMunicate-style plot trivial. pass font name .ff argument:","code":"KM <- survfit(Surv(studytime, died) ~ 1, data = cancer2) time_scale <- seq(0, max(cancer2$studytime), by = 7) KMunicate(fit = KM, time_scale = time_scale, .ff = \"Times New Roman\")"},{"path":"https://ellessenne.github.io/KMunicate-package/index.html","id":"further-customisation","dir":"","previous_headings":"","what":"Further Customisation","title":"KMunicate-Style Kaplan–Meier Plots","text":"Several options customise plot provided, see e.g. introductory vignette details.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create KMunicate-Style Kaplan–Meier Plots — KMunicate","title":"Create KMunicate-Style Kaplan–Meier Plots — KMunicate","text":"Produce Kaplan–Meier plots style recommended following KMunicate study TP Morris et al. (doi:10.1136/bmjopen-2019-030215 ).","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create KMunicate-Style Kaplan–Meier Plots — KMunicate","text":"","code":"KMunicate(   fit,   time_scale,   .risk_table = \"KMunicate\",   .reverse = FALSE,   .theme = NULL,   .color_scale = NULL,   .fill_scale = NULL,   .linetype_scale = NULL,   .annotate = NULL,   .xlab = \"Time\",   .ylab = ifelse(.reverse, \"Estimated (1 - survival)\", \"Estimated survival\"),   .title = NULL,   .alpha = 0.25,   .rel_heights = NULL,   .ff = NULL,   .risk_table_base_size = 11,   .size = NULL,   .legend_position = c(1, 1) )"},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create KMunicate-Style Kaplan–Meier Plots — KMunicate","text":"fit survfit object. time_scale time scale used x-axis summary tables. .risk_table arguments define type risk table produced. .reverse reverse = TRUE, plot uses 1 - survival probability y-axis. Defaults KMunicate, cumulative number events censored calculated. Another possibility survfit, use default numbers returned summary.survfit (e.g. number events censored per interval). .risk_table can also NULL, case risk table omitted plot. .theme ggplot theme used plot. Defaults NULL, default ggplot theme used. .color_scale Colour scale used plot. scale_colour_* component, defaults NULL default colour scale used. .fill_scale Fill scale used plot. scale_fill_* component, defaults NULL default fill scale used. .linetype_scale Linetype scale used plot. scale_linetype_* component, defaults NULL default linetype scale used. .annotate Optional annotation added plot, e.g. using ggplot2::annotate(). Defaults NULL, extra annotation added. .xlab Label horizontal axis, defaults Time. .ylab Label vertical axis, defaults Estimated survival .reverse = FALSE, Estimated (1 - survival) otherwise. .title title added top plot. Defaults NULL, title included. .alpha Transparency point-wise confidence intervals .rel_heights Override default relative heights plots tables. Must numeric vector length equal 1 + 1 per arm Kaplan-Meier plot. See cowplot::plot_grid() details use argument. .ff string used define base font plot. .risk_table_base_size Base font size risk table, given pts. Defaults 11. .size Thickness Kaplan-Meier curve. Defaults NULL, ggplot2's default used. .legend_position Position legend plot. Defaults c(1, 1), corresponds top-right plot. also possible pass string, ggplot2, e.g. \"none\" suppress legend. N.B.: Legend justification modified accordingly. See ggplot2::theme() details place legend plot.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create KMunicate-Style Kaplan–Meier Plots — KMunicate","text":"KMunicate-style ggplot object.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create KMunicate-Style Kaplan–Meier Plots — KMunicate","text":"","code":"library(survival) data(\"cancer2\", package = \"KMunicate\") KM <- survfit(Surv(studytime, died) ~ drug, data = cancer2) time_scale <- seq(0, max(cancer2$studytime), by = 7) KMunicate(fit = KM, time_scale = time_scale)"},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate_package.html","id":null,"dir":"Reference","previous_headings":"","what":"KMunicate-Style Kaplan–Meier Plots — KMunicate_package","title":"KMunicate-Style Kaplan–Meier Plots — KMunicate_package","text":"Produce Kaplan–Meier plots style recommended following KMunicate study (doi:10.1136/bmjopen-2019-030215 ).","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/KMunicate_package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"KMunicate-Style Kaplan–Meier Plots — KMunicate_package","text":"Alessandro Gasparini (alessandro.gasparini@ki.se)","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/brcancer.html","id":null,"dir":"Reference","previous_headings":"","what":"German Breast Cancer Study Data — brcancer","title":"German Breast Cancer Study Data — brcancer","text":"German breast cancer study data, imported Stata 16.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/brcancer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"German Breast Cancer Study Data — brcancer","text":"","code":"brcancer"},{"path":"https://ellessenne.github.io/KMunicate-package/reference/brcancer.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"German Breast Cancer Study Data — brcancer","text":"data frame 686 rows 14 variables: id numeric vector; hormon Hormonal therapy; x1 Age, years; x2 Menopausal status; x3 Tumour size, mm; x4 Tumour grade; x5 Number positive nodes; x6 Progesterone receptor, fmol; rectime Recurrence-free survival time, days; censrec Censoring indicator; x4a Tumour grade >=2; x4b Tumour grade == 3; x5e exp(-0.12 * x5).","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/brcancer.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"German Breast Cancer Study Data — brcancer","text":"http://www.stata-press.com/data/r16/brcancer.dta","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/brcancer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"German Breast Cancer Study Data — brcancer","text":"","code":"data(\"brcancer\", package = \"KMunicate\")"},{"path":"https://ellessenne.github.io/KMunicate-package/reference/cancer2.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Survival in Drug Trial — cancer2","title":"Patient Survival in Drug Trial — cancer2","text":"Patient survival drug trial data, imported Stata 16.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/cancer2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Survival in Drug Trial — cancer2","text":"","code":"cancer2"},{"path":"https://ellessenne.github.io/KMunicate-package/reference/cancer2.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Patient Survival in Drug Trial — cancer2","text":"data frame 48 rows 4 variables: studytime Months death end follow-; died Event indicator variable, died = 1 patient died; drug Drug type, drug = 1 placebo; age Age patient baseline.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/cancer2.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Patient Survival in Drug Trial — cancer2","text":"dataset named cancer2 avoid name collision cancer dataset survival package.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/cancer2.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Patient Survival in Drug Trial — cancer2","text":"http://www.stata-press.com/data/r16/cancer.dta","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/reference/cancer2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Patient Survival in Drug Trial — cancer2","text":"","code":"data(\"cancer2\", package = \"KMunicate\")"},{"path":[]},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"new-features-0-2-3","dir":"Changelog","previous_headings":"","what":"New features","title":"KMunicate 0.2.3","text":"New argument .title add title plot; small updates documentation.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"kmunicate-022","dir":"Changelog","previous_headings":"","what":"KMunicate 0.2.2","title":"KMunicate 0.2.2","text":"CRAN release: 2022-08-16 minor release, following changes: Updated maintainer e-mail. Fixed URL moved.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"kmunicate-021","dir":"Changelog","previous_headings":"","what":"KMunicate 0.2.1","title":"KMunicate 0.2.1","text":"CRAN release: 2021-04-23 minor release. change vignette, updated removing examples custom fonts avoid issues (headaches) CRAN testing environments (e.g. GitHub Actions). fully removes dependency (suggested package) {extrafont}.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"kmunicate-020","dir":"Changelog","previous_headings":"","what":"KMunicate 0.2.0","title":"KMunicate 0.2.0","text":"CRAN release: 2020-11-16","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"new-features-0-2-0","dir":"Changelog","previous_headings":"","what":"New features","title":"KMunicate 0.2.0","text":"New argument .linetype_scale customise linetype scale plot; New argument .annotate add custom annotations (stuff, principle) plot; New argument .size customise thickness (e.g. size argument, ggplot2 terms) Kaplan-Meier curve; New argument .legend.position customise location plot legend.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"kmunicate-010","dir":"Changelog","previous_headings":"","what":"KMunicate 0.1.0","title":"KMunicate 0.1.0","text":"CRAN release: 2020-09-03","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"KMunicate 0.1.0","text":"New argument .reverse plot 1 - survival rather survival; New argument .ylab customise label vertical axis; New argument .risk_table_base_size customise base font size risk table; Small edits default plot style.","code":""},{"path":"https://ellessenne.github.io/KMunicate-package/news/index.html","id":"kmunicate-002","dir":"Changelog","previous_headings":"","what":"KMunicate 0.0.2","title":"KMunicate 0.0.2","text":"CRAN release: 2020-08-03 Initial release.","code":""}]
